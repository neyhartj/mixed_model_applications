library(tidyverse)

x <- "1 3.113 2.835 2.629 1.988 2.199 2.414 1.248 2.380 2 3.379 3.222 2.848 2.823 3.002 2.950 2.176 3.196 3 3.067 2.326 2.511 2.120 2.692 2.598 1.032 2.355 4 3.202 2.663 2.230 1.638 2.187 2.171 1.062 1.599 5 3.921 3.365 3.028 2.653 2.935 2.931 2.007 2.942 6 4.153 3.970 3.444 2.813 2.865 3.232 2.341 3.289 7 4.851 4.512 4.010 3.504 3.135 3.624 3.080 3.612 8 4.547 4.203 3.429 2.944 2.616 3.052 2.817 3.070 9 3.721 3.505 3.337 2.425 2.177 2.525 1.917 2.830 10 3.581 3.298 3.287 2.389 2.159 2.681 1.744 2.726 11 3.312 3.130 2.959 2.280 1.797 2.152 1.365 2.178 12 3.439 3.329 3.254 2.561 2.843 3.035 1.927 3.058 13 3.195 3.047 2.948 2.696 2.610 2.902 1.914 3.138 14 2.890 2.297 2.295 2.237 1.930 2.414 1.462 2.274 15 2.700 2.430 2.172 2.004 2.194 2.392 1.374 2.144 16 3.143 2.710 2.429 2.260 2.406 2.438 1.536 2.464 17 2.746 2.470 2.226 2.126 2.332 2.185 1.287 2.621 18 3.273 2.384 2.555 2.167 2.545 2.386 1.616 2.813"
x1 <- str_split(string = x, pattern = " ")[[1]] %>% parse_number()

# Matrix
pheno_mat <- matrix(data = x1, nrow = 18, byrow = TRUE)
pheno_mat <- pheno_mat[,-1]
row.names(pheno_mat) <- as.character(1:18)
colnames(pheno_mat) <- c("Pa", "DM", "Pi", "GT", "RW", "Wi", "Tr", "Ls")


y <- "1 2.1 1,136 993 911 881 14.75 11.23 13.15 2 2.1 1,345 1,277 1,250 1,815 11.78 13.28 14.93 3 2.1 1,700 2,191 2,586 2,556 16.14 16.48 16.37 4 2.1 1,076 1,090 1,323 1,065 14.81 13.61 12.74 5 2.2 960 779 539 457 13.61 12.46 10.89 6 2.0 316 482 421 556 12.81 11.23 9.04 7 2.0 145 117 102 42 11.91 10.29 8.05 8 1.9 109 93 127 42 10.96 8.71 7.73 9 2.2 555 504 415 383 9.64 8.50 9.90 10 2.0 641 663 596 780 8.45 7.98 11.78 11 2.0 676 666 541 546 7.70 9.04 12.60 12 1.6 1,951 2,427 2,413 2,286 9.22 12.05 14.39 13 1.5 1,651 1,789 1,276 1,518 11.78 13.01 15.21 14 1.5 2,281 2,359 2,376 2,514 13.15 14.45 15.62 15 1.5 1,244 1,456 1,604 1,398 14.07 15.37 16.23 16 2.3 1,398 1,852 2,719 2,975 14.51 15.96 16.45 17 1.5 2,041 1,515 1,350 988 14.93 16.23 16.48 18 1.5 1,326 1,416 1,779 1,580 15.26 16.39 16.41"
y1 <- str_split(string = y, pattern = " ")[[1]] %>% parse_number()

# Matrix
ec_mat <- matrix(data = y1, nrow = 18, byrow = TRUE)
ec_mat <- ec_mat[,-1]
row.names(ec_mat) <- as.character(1:18)
colnames(ec_mat) <- paste0("ec", 1:8)

# Tidy up
pheno <- as.data.frame(pheno_mat) %>%
  rownames_to_column("environment") %>%
  gather(genotype, nitrate, -environment)

ec <- as.data.frame(ec_mat) %>%
  rownames_to_column("environment")


# Save the data
save("pheno", "ec", file = file.path("data/vanEeuwijk1992Lettuce.RData"))
